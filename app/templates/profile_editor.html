{% extends 'base/base.html' %}

{% block content %}
<form method="POST" enctype='multipart/form-data'>
    {{ form.hidden_tag() }} 
    <div class="sm:shadow sm:border p-5 rounded-xl flex flex-wrap sm:flex-nowrap flex-col sm:flex-row">
        <div class="flex grow justify-center sm:grow-0">
            {{ form.photo( accept=".png,.jpg,.webp,.gif", style="display:none;", id="avatar_edit", 
            onchange="document.getElementById('avatar').src = window.URL.createObjectURL(this.files[0])")}}
            <img
            class="rounded size-[300px] shrink-0 shadow min-w-[300px] brightness-50"
            src="{{ url_for('static', filename='avatars/'+current_user.login + '.webp') }}"
            id="avatar"
            >

            <a class="p-5 drop-shadow-2xl bg-black/30 backdrop-blur rounded-xl text-white absolute mt-[115px] h-[70px] cursor-pointer transition-all hover:sm:scale-125" onclick="getElementById('avatar_edit').click();">Изменить</a>
        </div>
        <div class="flex flex-col sm:ml-5 grow">
            <div class="mt-1 sm:mt-0 min-w-0 text-4xl" >{{ form.name(value=current_user.name, size=0, style="resize: none;", class="w-full p-0 m-0 h-13") }}</div>
            <p class="mt-2">Оценка +209</p>
            <div class="p-2 bg-amber-100 font-mono w-full min-w-0 mt-2"> {{ form.aboutme(size=0, style="resize: none;", class="w-full h-[160px]") }} </div>
        </div>
    </div>
    <div class="flex justify-end mx-5">
        {{ form.submit(class="rounded-lg px-10 shadow py-2 bg-black text-white justify-center cursor-pointer mt-5 flex mx-5 sm:mx-0 w-full transition-all hover:sm:scale-105", tabindex="0") }}
    </div>
</form>
{% endblock %}

